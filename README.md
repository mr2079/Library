# پروژه مدیریت کتابخانه
این پروژه شامل مدل های نویسنده (Author) و کتاب (Book) می باشد و در آن از الگوهای Generic Repository و CQRS و Mediator استفاده شده است
## الگوهای CQRS و Mediator
### الگوی CQRS
الگوی CQRS نوشته ها و خواندن ها را در برنامه از هم جدا می کند

این جداسازی می تواند منطقی یا فیزیکی باشد و مزایای زیادی دارد:

- مدیریت پیچیدگی
- عملکرد بهبود یافته
- مقیاس پذیری
- انعطاف پذیری
- امنیت
### الگوی Mediator
در الگوی Mediator دیگر کلاس ها و سرویس ها با یکدیگر مستقیم در ارتباط نیستند بلکه درخواست خود را از طریق یک واسط می فرستند و از طریق همان واسط، پاسخ مربوطه را دریافت میکنند

این کار باعث می شود که وابستگی شدید بین دو سرویس به حداقل برسد و Loose Coupling داشته باشیم که به توسعه و نگهداری یک پروژه کمک شایانی میکند
#### کتابخانه MediatR
کتابخانه MediatR یک پیاده سازی از الگوی Mediator در دات نت می باشد که از Request و Command پشتیبانی میکند

در MediatR هر درخواست در یک صف در حافظه قرار میگیرد و سپس به Handler مربوط به آن درخواست وصل می شود. MediatR هیچ وابستگی به سایر کتابخانه ها ندارد و از Generic ها در سی شارپ برای ساخت Response و همچنین تعیین Handler ها استفاده میکند

یکی دیگر از ویژگی های بسیار خوب MediatR، پشتیبانی از الگوی Pub/Sub می باشد که به وسیله آن میتوان یک Notification ایجاد کرد و در جاهای مختلف پروژه این Notification را دریافت کرد
## دستورات راه اندازی و اجرا
### دستورات ایجاد Migration اولیه
(توجه: migration اولیه در پروژه اعمال شده است و در زمان اولین اجرای برنامه دیتابیس ایجاد و بر روی آن اعمال می شود)
#### دستور ایجاد migration از طریق Package Manager Console در Visual Studio
```
Add-Migration Initial -OutputDir Persistence/Migrations
```
#### دستور ایجاد migration از طریق dotnet cli
```
dotnet ef migrations add Initial -o Persistence/Migrations
```
### اجرای برنامه
می توانید برنامه را به راحتی از طریق Visual Studio و یا با استفاده از دستور زیر و از طریق dotnet cli در cmd یا powershell که در مسیر پروژه Library.WebAPI باز شده باشد، اجرا کنید
```
dotnet run
```
